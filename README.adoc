= Jenkins shared library =

Création d'une librairie partagée de pipeline à destination de Jenkins.

== Documentation ==
On possède un projet Maven avec le Jenkinsfile suivant:
[source,groovy]
----
@Library('deroffal-library@mavenPipeline') _

mavenPipeline([
        javaVersion: 'JDK9',
        mavenVersion: 'MAVEN_3.6.0'
])
----

La librairie correspondante consiste en un repo Github (sur la branche *mavenPipeline*) contient les scipts suivants :
----
+- vars
|   +- mavenPipeline.groovy
|   +- mvn.groovy
|   +- echoCouleur.groovy
----

*vars/mavenPipeline.groovy :*
[source,groovy]
----
def call(def config) {
    pipeline {
        /*
         * code d'un Jenkinsfile issu d'un projet...
         */
    }
}
----

Les deux autres scipts sont des utilitaires pour l'exécution du pipeline.
Le script `mvn.groovy` va permettre d'exécuter _en mode script_ les commandes `mvn` dans le pipeline.

Le script `echoCouleur.groovy` va remplacer le `echo` en ajoutant une couleur précisée en deuxième paramètre.